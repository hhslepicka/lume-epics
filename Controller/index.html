<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://slaclab.github.io/lume-epics/Controller/" rel="canonical"/>
<link href="../img/favicon.ico" rel="shortcut icon"/>
<title>Controller - lume-epics</title>
<link href="../css/bootstrap.min.css" rel="stylesheet"/>
<link href="../css/font-awesome.min.css" rel="stylesheet"/>
<link href="../css/base.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet"/>
<script defer="" src="../js/jquery-1.10.2.min.js"></script>
<script defer="" src="../js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
<div class="container">
<a class="navbar-brand" href="..">lume-epics</a>
<!-- Expander button -->
<button class="navbar-toggler" data-target="#navbar-collapse" data-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<!-- Expanded navigation -->
<div class="navbar-collapse collapse" id="navbar-collapse">
<!-- Main navigation -->
<ul class="nav navbar-nav">
<li class="navitem">
<a class="nav-link" href="..">Overview</a>
</li>
<li class="navitem">
<a class="nav-link" href="../Install/">Install</a>
</li>
<li class="dropdown">
<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Tutorial <b class="caret"></b></a>
<ul class="dropdown-menu">
<li>
<a class="dropdown-item" href="../BokehServer/">Bokeh Server</a>
</li>
<li>
<a class="dropdown-item" href="../Jupyter/">Jupyter Notebook Demo</a>
</li>
</ul>
</li>
<li class="dropdown active">
<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Documentation <b class="caret"></b></a>
<ul class="dropdown-menu">
<li>
<a class="dropdown-item" href="../Layout/">Layout</a>
</li>
<li class="dropdown-submenu">
<a class="dropdown-item" href="#">Client</a>
<ul class="dropdown-menu">
<li>
<a class="dropdown-item active" href="./">Controller</a>
</li>
<li>
<a class="dropdown-item" href="../Monitors/">Monitors</a>
</li>
<li>
<a class="dropdown-item" href="../Widgets/">Widgets</a>
</li>
</ul>
</li>
<li>
<a class="dropdown-item" href="../Model/">Model</a>
</li>
<li>
<a class="dropdown-item" href="../Server/">Server</a>
</li>
</ul>
</li>
</ul>
<ul class="nav navbar-nav ml-auto">
<li class="nav-item">
<a class="nav-link" href="../Layout/" rel="prev">
<i class="fa fa-arrow-left"></i> Previous
                                </a>
</li>
<li class="nav-item">
<a class="nav-link" href="../Monitors/" rel="next">
                                    Next <i class="fa fa-arrow-right"></i>
</a>
</li>
<li class="nav-item">
<a class="nav-link" href="https://github.com/slaclab/lume-epics/edit/master/docs/Controller.md"><i class="fa fa-github"></i> Edit on GitHub</a>
</li>
</ul>
</div>
</div>
</div>
<div class="container">
<div class="row">
<div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
<div class="navbar-header">
<button class="navbar-toggler collapsed" data-target="#toc-collapse" data-toggle="collapse" title="Table of Contents" type="button">
<span class="fa fa-angle-down"></span>
</button>
</div>
<div class="navbar-collapse collapse card bg-secondary" id="toc-collapse">
<ul class="nav flex-column">
<li class="nav-item" data-level="1"><a class="nav-link" href="#controller">Controller</a>
<ul class="nav flex-column">
<li class="nav-item" data-level="2"><a class="nav-link" href="#lume_epics.client.controller">lume_epics.client.controller</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-level="2"><a class="nav-link" href="#lume_epics.client.controller.Controller">Controller</a>
<ul class="nav flex-column">
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div></div>
<div class="col-md-9" role="main">
<h1 id="controller">Controller</h1>
<div class="doc doc-object doc-module">
<h2 class="hidden-toc" href="#lume_epics.client.controller" id="lume_epics.client.controller" style="visibility: hidden; width: 0; height: 0;">
</h2>
<div class="doc doc-contents first">
<p>The lume-epics controller serves as the intermediary between variable monitors 
and process variables served over EPICS.</p>
<div class="doc doc-children">
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="lume_epics.client.controller.Controller">
<code>Controller</code>
</h2>
<div class="doc doc-contents">
<p>Controller class used to access process variables. Controllers are used for 
interfacing with both Channel Access and pvAccess process variables. The 
controller object is initialized using a single protocol has methods for
both getting and setting values on the process variables.</p>
<p><strong>Attributes:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>protocol</code></td>
<td><code>str</code></td>
<td>
<p>Protocol for getting values from variables ("pva" for pvAccess, "ca" for
Channel Access)</p>
</td>
</tr>
<tr>
<td><code>context</code></td>
<td><code>Context</code></td>
<td>
<p>P4P threaded context instance for use with pvAccess.</p>
</td>
</tr>
<tr>
<td><code>set_ca</code></td>
<td><code>bool</code></td>
<td>
<p>Update Channel Access variable on put.</p>
</td>
</tr>
<tr>
<td><code>set_pva</code></td>
<td><code>bool</code></td>
<td>
<p>Upddate pvAccess variable on put.</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Examples:</strong></p>
<pre><code># create PVAcess controller
controller = Controller("pva")

value = controller.get_value("scalar_input")
image_value = controller.get_image("image_input")

controller.close()
</code></pre>
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="lume_epics.client.controller.Controller.__init__">
<code class="highlight language-python">
__init__<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">protocol</span><span class="p">,</span> <span class="n">set_pva</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">set_ca</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
</h3>
<div class="doc doc-contents">
<p>Initializes controller. Stores protocol and creates context attribute if 
using pvAccess.</p>
<p>Args: 
    protocol (str): Protocol for getting values from variables ("pva" for pvAccess, "ca" for
    Channel Access)</p>
<pre><code>set_ca (bool): Update Channel Access variable on put.

set_pva (bool): Upddate pvAccess variable on put.
</code></pre>
<details class="quote">
<summary>Source code in <code>lume_epics/client/controller.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">protocol</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">set_pva</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">set_ca</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Initializes controller. Stores protocol and creates context attribute if </span>
<span class="sd">    using pvAccess.</span>

<span class="sd">    Args: </span>
<span class="sd">        protocol (str): Protocol for getting values from variables ("pva" for pvAccess, "ca" for</span>
<span class="sd">        Channel Access)</span>

<span class="sd">        set_ca (bool): Update Channel Access variable on put.</span>

<span class="sd">        set_pva (bool): Upddate pvAccess variable on put.</span>

<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span> <span class="o">=</span> <span class="n">protocol</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_pva</span> <span class="o">=</span> <span class="n">set_pva</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_ca</span> <span class="o">=</span> <span class="n">set_ca</span>



    <span class="c1"># initalize context for pva</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">context</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">set_pva</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span> <span class="o">=</span> <span class="n">Context</span><span class="p">(</span><span class="s2">"pva"</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="lume_epics.client.controller.Controller.get">
<code class="highlight language-python">
get<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pvname</span><span class="p">)</span> </code>
</h3>
<div class="doc doc-contents">
<p>Accesses and returns the value of a process variable.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pvname</code></td>
<td><code>str</code></td>
<td>
<p>Process variable name</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>lume_epics/client/controller.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span> 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pvname</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Accesses and returns the value of a process variable.</span>

<span class="sd">    Args:</span>
<span class="sd">        pvname (str): Process variable name</span>

<span class="sd">    """</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span> <span class="o">==</span> <span class="s2">"ca"</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">caget</span><span class="p">(</span><span class="n">pvname</span><span class="p">)</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span> <span class="o">==</span> <span class="s2">"pva"</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pvname</span><span class="p">,</span> <span class="n">throw</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

            <span class="c1"># p4p returns exception on failure</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="ne">Exception</span><span class="p">)):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">raise</span> <span class="ne">TimeoutError</span>


    <span class="k">except</span> <span class="ne">TimeoutError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">"Unable to connect to process variable </span><span class="si">%s</span><span class="s2"> using protocol </span><span class="si">%s</span><span class="s2">"</span><span class="p">,</span> <span class="n">pvname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="n">value</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="lume_epics.client.controller.Controller.get_image">
<code class="highlight language-python">
get_image<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pvname</span><span class="p">)</span> </code>
</h3>
<div class="doc doc-contents">
<p>Gets image data via controller protocol.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pvname</code></td>
<td><code>str</code></td>
<td>
<p>Image process variable name</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>lume_epics/client/controller.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pvname</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="sd">"""Gets image data via controller protocol.</span>

<span class="sd">    Args:</span>
<span class="sd">        pvname (str): Image process variable name</span>

<span class="sd">    """</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span> <span class="o">==</span> <span class="s2">"ca"</span><span class="p">:</span>
        <span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">pvname</span><span class="si">}</span><span class="s2">:ArrayData_RBV"</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">image</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">pvbase</span> <span class="o">=</span> <span class="n">pvname</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">":ArrayData_RBV"</span><span class="p">,</span> <span class="s2">""</span><span class="p">)</span>
            <span class="n">nx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">pvbase</span><span class="si">}</span><span class="s2">:ArraySizeX_RBV"</span><span class="p">)</span>
            <span class="n">ny</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">pvbase</span><span class="si">}</span><span class="s2">:ArraySizeY_RBV"</span><span class="p">)</span>
            <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">pvbase</span><span class="si">}</span><span class="s2">:MinX_RBV"</span><span class="p">)</span>
            <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">pvbase</span><span class="si">}</span><span class="s2">:MinY_RBV"</span><span class="p">)</span>
            <span class="n">dw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">pvbase</span><span class="si">}</span><span class="s2">:MaxX_RBV"</span><span class="p">)</span> <span class="o">-</span> <span class="n">x</span>
            <span class="n">dh</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">pvbase</span><span class="si">}</span><span class="s2">:MaxY_RBV"</span><span class="p">)</span> <span class="o">-</span> <span class="n">y</span>

            <span class="n">image</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">nx</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">ny</span><span class="p">))</span>

    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span> <span class="o">==</span> <span class="s2">"pva"</span><span class="p">:</span>
        <span class="c1"># context returns numpy array with WRITEABLE=False</span>
        <span class="c1"># copy to manipulate array below</span>
        <span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pvname</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">image</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">attrib</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">attrib</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">attrib</span><span class="p">[</span><span class="s2">"x_min"</span><span class="p">]</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">attrib</span><span class="p">[</span><span class="s2">"y_min"</span><span class="p">]</span>
            <span class="n">dw</span> <span class="o">=</span> <span class="n">attrib</span><span class="p">[</span><span class="s2">"x_max"</span><span class="p">]</span> <span class="o">-</span> <span class="n">attrib</span><span class="p">[</span><span class="s2">"x_min"</span><span class="p">]</span>
            <span class="n">dh</span> <span class="o">=</span> <span class="n">attrib</span><span class="p">[</span><span class="s2">"y_max"</span><span class="p">]</span> <span class="o">-</span> <span class="n">attrib</span><span class="p">[</span><span class="s2">"y_min"</span><span class="p">]</span>
            <span class="n">image</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">image</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">"image"</span><span class="p">:</span> <span class="p">[</span><span class="n">image</span><span class="p">],</span>
            <span class="s2">"x"</span><span class="p">:</span> <span class="p">[</span><span class="n">x</span><span class="p">],</span>
            <span class="s2">"y"</span><span class="p">:</span> <span class="p">[</span><span class="n">y</span><span class="p">],</span>
            <span class="s2">"dw"</span><span class="p">:</span> <span class="p">[</span><span class="n">dw</span><span class="p">],</span>
            <span class="s2">"dh"</span><span class="p">:</span> <span class="p">[</span><span class="n">dh</span><span class="p">],</span>
        <span class="p">}</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">DEFAULT_IMAGE_DATA</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="lume_epics.client.controller.Controller.get_value">
<code class="highlight language-python">
get_value<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pvname</span><span class="p">)</span> </code>
</h3>
<div class="doc doc-contents">
<p>Gets scalar value of a process variable.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pvname</code></td>
<td><code>str</code></td>
<td>
<p>Image process variable name.</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>lume_epics/client/controller.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>109
110
111
112
113
114
115
116
117
118
119
120
121</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pvname</span><span class="p">):</span>
    <span class="sd">"""Gets scalar value of a process variable.</span>

<span class="sd">    Args:</span>
<span class="sd">        pvname (str): Image process variable name.</span>

<span class="sd">    """</span>
    <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pvname</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">DEFAULT_SCALAR_VALUE</span>

    <span class="k">return</span> <span class="n">value</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="lume_epics.client.controller.Controller.put">
<code class="highlight language-python">
put<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pvname</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> </code>
</h3>
<div class="doc doc-contents">
<p>Assign the value of a process variable.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pvname</code></td>
<td><code>str</code></td>
<td>
<p>Name of the process variable</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>value</code></td>
<td><code>Union[numpy.ndarray, float]</code></td>
<td>
<p>Value to assing to process variable.</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>lume_epics/client/controller.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>171
172
173
174
175
176
177
178
179
180
181
182
183
184</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pvname</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">"""Assign the value of a process variable.</span>

<span class="sd">    Args:</span>
<span class="sd">        pvname (str): Name of the process variable</span>

<span class="sd">        value (Union[np.ndarray, float]): Value to assing to process variable.</span>

<span class="sd">    """</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_ca</span><span class="p">:</span>
        <span class="n">caput</span><span class="p">(</span><span class="n">pvname</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_pva</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">pvname</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div></div>
</div>
</div>
<footer class="col-md-12">
<hr/>
<p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
</footer>
<script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
<script defer="" src="../js/base.js"></script>
<div aria-hidden="true" aria-labelledby="keyboardModalLabel" class="modal" id="mkdocs_keyboard_modal" role="dialog" tabindex="-1">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
<button class="close" data-dismiss="modal" type="button"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
</div>
<div class="modal-body">
<table class="table">
<thead>
<tr>
<th style="width: 20%;">Keys</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td class="help shortcut"><kbd>?</kbd></td>
<td>Open this help</td>
</tr>
<tr>
<td class="next shortcut"><kbd>n</kbd></td>
<td>Next page</td>
</tr>
<tr>
<td class="prev shortcut"><kbd>p</kbd></td>
<td>Previous page</td>
</tr>
<tr>
<td class="search shortcut"><kbd>s</kbd></td>
<td>Search</td>
</tr>
</tbody>
</table>
</div>
<div class="modal-footer">
</div>
</div>
</div>
</div>
</body>
</html>
